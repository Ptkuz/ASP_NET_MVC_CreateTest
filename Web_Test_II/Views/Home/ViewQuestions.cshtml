@using Web_Test_II_DAL.Entityes;
@using Web_Test_II.Models.ViewModels;
@model QuestionsViewModel
@{  
ViewBag.Title = "Добавление вопросов к тесту";
int idTest = ViewBag.Id;
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, Web_Test_II

@{
    ViewBag.Title = "Редактирование ответов на вопросы";
}

<div class="text-center">

        <h2 class="display-4">Добавление ответов к вопросам теста</h2>  
         <a asp-action="AddQuestions" asp-controller="Home" asp-route-id="@idTest">Добавить вопросы</a>
        <table class="table">
            <tr>
                <th>
                    <a>Вопрос</a>
                </th>
                <th>
                    Редактирование вопроса
                </th>
                 <th>
                    <a>Удалить вопрос</a>
                </th>
                <th>
                    <a>Количество ответов</a>
                </th>
                <th>
                    <a>Добавить ответы</a>
                </th>
            </tr>
            @for(int i = 0; i<Model.Questions.Count();i++)
            {
                <tr>
                    @* @using (Html.BeginForm("EditQuestion", "Home", FormMethod.Post))
                            {*@
                                <form asp-controller="Home" asp-action="EditQuestion" method="post"  asp-route-id="@Model.Questions[i].Id">
                    <td>
                       
                         <input type="text" name="parameterName" id="@Model.Questions[i].Id" value="@Model.Questions[i].Name" />
                            
                        </td>
                    <td>
                         
                            <input type="submit" value="Редактировать" class="form-control" />
                            
                    </td>
                    </form>
                    @*}*@
                    <td>
                            <form asp-controller="Home" asp-action="DeleteQuestion" method="post"  asp-route-id="@Model.Questions[i].Id">
                            <input type="submit" value="Удалить" class="form-control" />
                            </form>
                    </td>
                    <td>
                        <p>@Model.CountAnswers[i] (@Model.CountTrueAnswers[i])</p>
                    </td>
                    <td><a asp-action="AddAnswers" asp-controller="Home" asp-route-id="@Model.Questions[i].Id">Добавить ответы</a></td>
                </tr>           
        }
        </table>
        

    
</div>
