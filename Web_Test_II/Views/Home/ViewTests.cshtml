@using Web_Test_II_DAL.Entityes;
@using Web_Test_II.Models.ViewModels;
@model TestViewModel

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, Web_Test_II

@{
    int num = 0;
    ViewBag.Title = "Просмотр тестов";
    
}

<div class="text-center">

        <h2 class="display-4">Просмотр тестов</h2>  

        <table class="table">
            <tr>
                 <th>
                    <a>Номер</a>
                </th>
                <th>
                    <a>Тест</a>
                </th>
                <th>
                    <a>Активность</a>
                </th>
                <th>
                    <a>Редактировать</a>
                </th>
                 <th>
                    <a>Удалить</a>
                </th>
            </tr>
            
            @foreach(var item in Model.Tests)
            {
                num++;
                <tr>
                    <td>
                        @num
                    </td>
                    <td>@item.Name</td>
                @if (item.IsAvtive == false)
                {
                    <td>
                         <form asp-controller="Home" asp-action="ActiveTest" method="post"  asp-route-id="@item.Id">
                    <input type="submit" value="Активировать" class="form-control" />
                </form>
                    </td>
                }
                else
                {
                     <td>
                         <form asp-controller="Home" asp-action="DeactiveTest" method="post"  asp-route-id="@item.Id">
                    <input type="submit" value="Деактивировать" class="form-control" />
                </form>
                    </td>
                }

                    <td><a asp-action="ViewQuestions" asp-controller="Home" asp-route-id="@item.Id">Редактировать вопросы</a></td>
                    <td>
                        <form asp-controller="Home" asp-action="DeleteTest" method="post"  asp-route-id="@item.Id">
                    <input type="submit" value="Удалить" class="form-control" />
                </form>
                    </td>
                </tr>           
        }
        </table>
        

    
</div>